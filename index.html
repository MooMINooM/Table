<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô ‡πÇ‡∏ô‡∏ô‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå ‡πÄ‡∏Å‡∏°‡∏™‡πå 2568</title>
<link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600&display=swap" rel="stylesheet">
<style>
    /* --- CSS ‡πÄ‡∏î‡∏¥‡∏° (‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢) --- */
    body { font-family: 'Sarabun', sans-serif; margin: 0; padding: 10px; background-color: #f4f6f9; color: #333; }
    h1 { text-align: center; color: #2c3e50; margin-bottom: 5px; font-size: 1.5em; }
    h2 { text-align: center; font-size: 1em; color: #7f8c8d; margin-top: 0; margin-bottom: 20px; }
    
    /* Tabs */
    .tab { overflow: hidden; border: 1px solid #ddd; background-color: #fff; border-radius: 8px 8px 0 0; display: flex; flex-wrap: wrap; box-shadow: 0 2px 5px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
    .tab button { background-color: #fff; border: none; outline: none; cursor: pointer; padding: 12px 10px; transition: 0.3s; font-size: 14px; flex-grow: 1; font-weight: bold; font-family: 'Sarabun', sans-serif; color: #555; border-bottom: 3px solid transparent; }
    .tab button:hover { background-color: #f1f1f1; }
    .tab button.active { color: #007bff; border-bottom: 3px solid #007bff; background-color: #ebf5ff; }

    .tabcontent { display: none; padding: 15px; border: 1px solid #ddd; border-top: none; background-color: white; border-radius: 0 0 8px 8px; animation: fadeEffect 0.3s; margin-bottom: 20px; }
    @keyframes fadeEffect { from {opacity: 0;} to {opacity: 1;} }

    /* Sport Header */
    .sport-header {
        background-color: #2c3e50; color: white; padding: 8px 15px; border-radius: 5px; margin-top: 20px; margin-bottom: 10px; font-size: 1.1em; display: flex; align-items: center;
    }
    .sport-header.football { background-color: #28a745; }
    .sport-header.volleyball { background-color: #fd7e14; }
    .sport-header.other { background-color: #17a2b8; }
    
    /* Table */
    .table-container { overflow-x: auto; margin-bottom: 15px; border-radius: 5px; border: 1px solid #eee; background: white; }
    table { border-collapse: collapse; width: 100%; min-width: 600px; font-size: 14px; }
    th, td { text-align: left; padding: 10px; border-bottom: 1px solid #eee; vertical-align: middle; }
    th { background-color: #f8f9fa; font-weight: 600; color: #555; }
    
    /* Score Inputs */
    .score-input { width: 40px; text-align: center; padding: 5px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; font-weight: bold; }
    .score-input:focus { border-color: #007bff; outline: none; background-color: #ebf5ff; }
    .vs-sep { margin: 0 5px; color: #888; font-weight: 300; }
    
    /* Team Names */
    .team-name { font-weight: 600; display: inline-block; width: 120px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; vertical-align: middle; }
    .team-name.winner { color: #28a745; text-decoration: underline; }
    .team-name.loser { color: #999; }
    
    /* League Table specific */
    .league-table th { background-color: #343a40; color: white; text-align: center; }
    .league-table td { text-align: center; }
    .league-table td:nth-child(2) { text-align: left; } /* Team name left align */
    .rank-1 { background-color: #ffd70033; }
    .rank-2 { background-color: #c0c0c033; }
    .rank-3 { background-color: #cd7f3233; }

    /* Badges */
    .badge { padding: 3px 6px; border-radius: 4px; font-size: 0.8em; color: white; background: #999; margin-right: 5px; }
    .badge-cat { background-color: #6c757d; }
    .badge-time { background-color: #e9ecef; color: #333; font-weight: bold; }

    /* Responsive */
    @media screen and (max-width: 600px) {
        .team-name { width: 90px; font-size: 0.9em; }
        th, td { padding: 8px 4px; font-size: 13px; }
        .score-input { width: 30px; }
    }
</style>
</head>
<body>

<h1>üèÜ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô "‡πÇ‡∏ô‡∏ô‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå ‡πÄ‡∏Å‡∏°‡∏™‡πå 2568"</h1>
<h2>16 - 19 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2568</h2>

<div class="tab">
  <button class="tablinks" onclick="openTab(event, 'Day1')" id="defaultOpen">16 ‡∏ò.‡∏Ñ.<br><small>(‡∏£‡∏≠‡∏ö‡πÅ‡∏£‡∏Å)</small></button>
  <button class="tablinks" onclick="openTab(event, 'Day2')">17 ‡∏ò.‡∏Ñ.<br><small>(‡∏£‡∏≠‡∏ö 8 ‡∏ó‡∏µ‡∏°)</small></button>
  <button class="tablinks" onclick="openTab(event, 'Day3')">18 ‡∏ò.‡∏Ñ.<br><small>(‡∏£‡∏≠‡∏ö‡∏£‡∏≠‡∏á‡∏Ø)</small></button>
  <button class="tablinks" onclick="openTab(event, 'Day4')">19 ‡∏ò.‡∏Ñ.<br><small>(‡∏ä‡∏¥‡∏á‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏®)</small></button>
  <button class="tablinks" onclick="openTab(event, 'Standings')" style="color: #c0392b;">üìä ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</button>
</div>

<div id="Day1" class="tabcontent"></div>
<div id="Day2" class="tabcontent"></div>
<div id="Day3" class="tabcontent"></div>
<div id="Day4" class="tabcontent"></div>

<div id="Standings" class="tabcontent">
    <h3>‚öΩ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ü‡∏∏‡∏ï‡∏ö‡∏≠‡∏• (‡∏£‡∏≠‡∏ö‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°)</h3>
    <div id="standings-container"></div>
</div>

<script>
    // --- 1. ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô (Data Structure) ---
    // id: ‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏°‡∏ï‡∏ä‡πå, nextMatchId: ‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏°‡∏ï‡∏ä‡πå‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡∏à‡∏∞‡πÑ‡∏õ‡∏ï‡πà‡∏≠ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏ö Knockout)
    // sportType: football, volleyball, other
    const matches = [
        // --- ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 16 (Day 1) ‡∏£‡∏≠‡∏ö‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏° ---
        { id: 'd1_m1', day: 'Day1', time: '08.30', sport: 'football', category: '‡∏õ.4-6', field: '‡∏™‡∏ô‡∏≤‡∏° 1', teamA: '‡πÇ‡∏ô‡∏ô‡∏™‡∏ß‡∏≤‡∏ó‡∏Ø', teamB: '‡∏ó‡πà‡∏≤‡∏≠‡∏∏‡∏ó‡∏±‡∏¢', scoreA: '', scoreB: '', group: 'A' },
        { id: 'd1_m2', day: 'Day1', time: '08.30', sport: 'football', category: '‡∏°‡∏±‡∏ò‡∏¢‡∏°', field: '‡∏™‡∏ô‡∏≤‡∏° 2', teamA: '‡∏´‡∏ô‡∏≠‡∏á‡∏Å‡∏∏‡∏á‡∏®‡∏£‡∏µ‡∏Ø', teamB: '‡∏†‡∏π‡∏û‡∏£‡∏∞‡∏Ø', scoreA: '', scoreB: '', group: 'M' },
        { id: 'd1_m3', day: 'Day1', time: '09.30', sport: 'football', category: '‡∏õ.4-6', field: '‡∏™‡∏ô‡∏≤‡∏° 1', teamA: '‡πÇ‡∏ô‡∏ô‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå‡∏Ø', teamB: '‡πÇ‡∏ô‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á', scoreA: '', scoreB: '', group: 'B' },
        { id: 'd1_v1', day: 'Day1', time: '08.30', sport: 'volleyball', category: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ', field: '‡∏ß‡∏≠‡∏•‡πÄ‡∏•‡∏¢‡πå', teamA: '‡∏ó‡πà‡∏≤‡∏≠‡∏∏‡∏ó‡∏±‡∏¢', teamB: '‡∏î‡πâ‡∏ß‡∏á‡∏Ø', scoreA: '', scoreB: '' },
        
        // --- ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 17 (Day 2) ‡∏£‡∏≠‡∏ö 8 ‡∏ó‡∏µ‡∏° / ‡∏ô‡∏±‡∏î‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ ---
        // nextMatchId: 'd3_sf1_home' ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á ‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡∏Ñ‡∏π‡πà‡∏ô‡∏µ‡πâ ‡∏à‡∏∞‡πÑ‡∏õ‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡∏°‡πÄ‡∏´‡∏¢‡πâ‡∏≤ (Home) ‡∏Ç‡∏≠‡∏á‡πÅ‡∏°‡∏ï‡∏ä‡πå id d3_sf1
        { id: 'd2_m1', day: 'Day2', time: '13.00', sport: 'football', category: '‡∏õ.4-6', field: '‡∏™‡∏ô‡∏≤‡∏° 1', teamA: '‡∏ó‡πà‡∏≤‡∏≠‡∏∏‡∏ó‡∏±‡∏¢', teamB: '‡∏î‡πâ‡∏ß‡∏á‡∏Ø-‡∏ä‡∏≥‡∏Ø', scoreA: '', scoreB: '', nextMatchId: 'd3_sf1_home' }, 
        { id: 'd2_m2', day: 'Day2', time: '14.00', sport: 'football', category: '‡∏õ.4-6', field: '‡∏™‡∏ô‡∏≤‡∏° 1', teamA: '‡πÇ‡∏ô‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á', teamB: '‡πÇ‡∏ô‡∏ô‡πÑ‡∏´‡∏°', scoreA: '', scoreB: '', nextMatchId: 'd3_sf1_away' },
        { id: 'd2_qf1', day: 'Day2', time: '15.00', sport: 'football', category: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ', field: '‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏•‡∏≤‡∏á', teamA: '‡∏ó‡∏µ‡πà 1 ‡∏™‡∏≤‡∏¢ A', teamB: '‡∏ó‡∏µ‡πà 2 ‡∏™‡∏≤‡∏¢ B', scoreA: '', scoreB: '', nextMatchId: 'd3_sf2_home' }, // ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏Ñ‡∏π‡πà
        { id: 'd2_qf2', day: 'Day2', time: '16.00', sport: 'football', category: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ', field: '‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏•‡∏≤‡∏á', teamA: '‡∏ó‡∏µ‡πà 1 ‡∏™‡∏≤‡∏¢ B', teamB: '‡∏ó‡∏µ‡πà 2 ‡∏™‡∏≤‡∏¢ A', scoreA: '', scoreB: '', nextMatchId: 'd3_sf2_away' }, // ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏Ñ‡∏π‡πà

        // --- ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 18 (Day 3) ‡∏£‡∏≠‡∏ö‡∏£‡∏≠‡∏á‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏® (Semi-Finals) ---
        // ‡∏ó‡∏µ‡∏°‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏ï‡∏¥‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏Ç‡∏≠‡∏á Day 2
        { id: 'd3_sf1', day: 'Day3', time: '08.30', sport: 'football', category: '‡∏õ.4-6', field: '‡∏™‡∏ô‡∏≤‡∏° 1', teamA: '‡∏£‡∏≠‡∏ú‡∏•...', teamB: '‡∏£‡∏≠‡∏ú‡∏•...', scoreA: '', scoreB: '', nextMatchId: 'd4_f1_home' },
        { id: 'd3_sf2', day: 'Day3', time: '09.30', sport: 'football', category: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ', field: '‡∏™‡∏ô‡∏≤‡∏° 2', teamA: '‡∏£‡∏≠‡∏ú‡∏•...', teamB: '‡∏£‡∏≠‡∏ú‡∏•...', scoreA: '', scoreB: '', nextMatchId: 'd4_f1_away' },

        // --- ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 19 (Day 4) ‡∏£‡∏≠‡∏ö‡∏ä‡∏¥‡∏á‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏® ---
        { id: 'd4_f1', day: 'Day4', time: '09.30', sport: 'football', category: '‡∏ä‡∏¥‡∏á‡∏ä‡∏ô‡∏∞‡πÄ‡∏•‡∏¥‡∏®', field: '‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏•‡∏≤‡∏á', teamA: '‡∏£‡∏≠‡∏ú‡∏•...', teamB: '‡∏£‡∏≠‡∏ú‡∏•...', scoreA: '', scoreB: '' }
    ];

    // --- 2. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ï‡∏≤‡∏£‡∏≤‡∏á (Render Tables) ---
    function renderSchedules() {
        const days = ['Day1', 'Day2', 'Day3', 'Day4'];
        const sportTitles = { 'football': '‚öΩ ‡∏ü‡∏∏‡∏ï‡∏ö‡∏≠‡∏•', 'volleyball': 'üèê ‡∏ß‡∏≠‡∏•‡πÄ‡∏•‡∏¢‡πå‡∏ö‡∏≠‡∏•', 'other': 'üèÖ ‡∏Å‡∏µ‡∏¨‡∏≤‡∏≠‡∏∑‡πà‡∏ô‡πÜ' };

        days.forEach(day => {
            const container = document.getElementById(day);
            container.innerHTML = ""; // Clear old content
            
            // ‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÅ‡∏¢‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏µ‡∏¨‡∏≤
            const dayMatches = matches.filter(m => m.day === day);
            const sports = [...new Set(dayMatches.map(m => m.sport))];

            if(dayMatches.length === 0) {
                container.innerHTML = "<p style='text-align:center; color:#888;'>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</p>";
                return;
            }

            sports.forEach(sport => {
                // ‡∏™‡∏£‡πâ‡∏≤‡∏á Header ‡πÅ‡∏¢‡∏Å‡∏Å‡∏µ‡∏¨‡∏≤
                const header = document.createElement('div');
                header.className = `sport-header ${sport}`;
                header.innerHTML = sportTitles[sport] || '‡∏Å‡∏µ‡∏¨‡∏≤‡∏≠‡∏∑‡πà‡∏ô‡πÜ';
                container.appendChild(header);

                // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á
                const tableContainer = document.createElement('div');
                tableContainer.className = 'table-container';
                
                let tableHTML = `
                    <table>
                        <thead>
                            <tr>
                                <th width="10%">‡πÄ‡∏ß‡∏•‡∏≤</th>
                                <th width="20%">‡∏™‡∏ô‡∏≤‡∏°/‡∏£‡∏∏‡πà‡∏ô</th>
                                <th width="45%">‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô (‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô)</th>
                                <th width="15%">‡∏Å‡∏£‡∏≠‡∏Å‡∏ú‡∏•</th>
                            </tr>
                        </thead>
                        <tbody>
                `;

                dayMatches.filter(m => m.sport === sport).forEach(match => {
                    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏≤
                    const scoreA = parseInt(match.scoreA);
                    const scoreB = parseInt(match.scoreB);
                    let classA = "", classB = "";
                    if (!isNaN(scoreA) && !isNaN(scoreB)) {
                        if (scoreA > scoreB) { classA = "winner"; classB = "loser"; }
                        else if (scoreB > scoreA) { classB = "winner"; classA = "loser"; }
                    }

                    tableHTML += `
                        <tr>
                            <td><span class="badge badge-time">${match.time}</span></td>
                            <td>
                                <div style="font-weight:bold; color:#555;">${match.field}</div>
                                <span class="badge badge-cat">${match.category}</span>
                            </td>
                            <td>
                                <div style="display:flex; align-items:center;">
                                    <span class="team-name ${classA}" style="text-align:right;">${match.teamA}</span>
                                    <span class="vs-sep">VS</span>
                                    <span class="team-name ${classB}" style="text-align:left;">${match.teamB}</span>
                                </div>
                            </td>
                            <td>
                                <div style="display:flex; justify-content:center; gap:5px;">
                                    <input type="number" class="score-input" value="${match.scoreA}" onchange="updateScore('${match.id}', 'A', this.value)">
                                    <span style="align-self:center;">-</span>
                                    <input type="number" class="score-input" value="${match.scoreB}" onchange="updateScore('${match.id}', 'B', this.value)">
                                </div>
                            </td>
                        </tr>
                    `;
                });

                tableHTML += `</tbody></table>`;
                tableContainer.innerHTML = tableHTML;
                container.appendChild(tableContainer);
            });
        });
    }

    // --- 3. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ú‡∏• & ‡∏à‡∏±‡∏î‡∏™‡∏≤‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (Update & Auto-Schedule) ---
    function updateScore(matchId, teamSide, value) {
        const match = matches.find(m => m.id === matchId);
        if (match) {
            if (teamSide === 'A') match.scoreA = value;
            else match.scoreB = value;

            // 3.1 ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á LocalStorage (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏à‡∏≥‡∏Ñ‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏±‡∏á Refresh ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î comment ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏•‡πà‡∏≤‡∏á)
            // localStorage.setItem('matchesData', JSON.stringify(matches));

            // 3.2 Logic ‡∏™‡πà‡∏á‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (Auto-Advance)
            if (match.nextMatchId && match.scoreA !== '' && match.scoreB !== '') {
                const sA = parseInt(match.scoreA);
                const sB = parseInt(match.scoreB);
                let winnerName = "‡πÄ‡∏™‡∏°‡∏≠";
                
                if (sA > sB) winnerName = match.teamA;
                else if (sB > sA) winnerName = match.teamB;

                // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏°‡∏ï‡∏ä‡πå‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
                // nextMatchId format: 'targetID_home' or 'targetID_away'
                const targetIdBase = match.nextMatchId.split('_')[0]; // e.g., 'd3_sf1'
                const targetSide = match.nextMatchId.split('_')[1];   // e.g., 'home' or 'away'
                
                const targetMatch = matches.find(m => m.id === targetIdBase);
                if (targetMatch) {
                    if (targetSide === 'home') targetMatch.teamA = winnerName;
                    else if (targetSide === 'away') targetMatch.teamB = winnerName;
                }
            }

            // Re-render ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏µ‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡πÅ‡∏•‡∏∞‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
            renderSchedules();
            renderStandings(); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
        }
    }

    // --- 4. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (League Table Logic) ---
    function renderStandings() {
        // ‡∏î‡∏∂‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÅ‡∏°‡∏ï‡∏ä‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ Group ‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏ß‡πâ
        const groupMatches = matches.filter(m => m.group);
        const teamsStats = {};

        groupMatches.forEach(m => {
            // Init team stats if not exists
            [m.teamA, m.teamB].forEach(t => {
                if (!teamsStats[t]) teamsStats[t] = { name: t, P: 0, W: 0, D: 0, L: 0, GF: 0, GA: 0, Pts: 0 };
            });

            // Calculate if score is present
            if (m.scoreA !== '' && m.scoreB !== '') {
                const sA = parseInt(m.scoreA);
                const sB = parseInt(m.scoreB);

                // Team A Stats
                teamsStats[m.teamA].P++;
                teamsStats[m.teamA].GF += sA;
                teamsStats[m.teamA].GA += sB;

                // Team B Stats
                teamsStats[m.teamB].P++;
                teamsStats[m.teamB].GF += sB;
                teamsStats[m.teamB].GA += sA;

                if (sA > sB) {
                    teamsStats[m.teamA].W++; teamsStats[m.teamA].Pts += 3;
                    teamsStats[m.teamB].L++;
                } else if (sB > sA) {
                    teamsStats[m.teamB].W++; teamsStats[m.teamB].Pts += 3;
                    teamsStats[m.teamA].L++;
                } else {
                    teamsStats[m.teamA].D++; teamsStats[m.teamA].Pts += 1;
                    teamsStats[m.teamB].D++; teamsStats[m.teamB].Pts += 1;
                }
            }
        });

        // Convert to Array & Sort
        const sortedTeams = Object.values(teamsStats).sort((a, b) => {
            if (b.Pts !== a.Pts) return b.Pts - a.Pts; // ‡πÅ‡∏ï‡πâ‡∏°‡∏°‡∏≤‡∏Å‡∏™‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡πà‡∏≠‡∏ô
            const gdA = a.GF - a.GA;
            const gdB = b.GF - b.GA;
            return gdB - gdA; // ‡∏ñ‡πâ‡∏≤‡πÅ‡∏ï‡πâ‡∏°‡πÄ‡∏ó‡πà‡∏≤ ‡∏î‡∏π‡∏•‡∏π‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏µ‡∏¢
        });

        // Render HTML
        let html = `
            <div class="table-container">
            <table class="league-table">
                <thead>
                    <tr>
                        <th width="10%">‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th>
                        <th width="30%">‡∏ó‡∏µ‡∏°</th>
                        <th width="10%">‡πÅ‡∏Ç‡πà‡∏á</th>
                        <th width="10%">‡∏ä‡∏ô‡∏∞</th>
                        <th width="10%">‡πÄ‡∏™‡∏°‡∏≠</th>
                        <th width="10%">‡πÅ‡∏û‡πâ</th>
                        <th width="10%">+/-</th>
                        <th width="10%">‡πÅ‡∏ï‡πâ‡∏°</th>
                    </tr>
                </thead>
                <tbody>
        `;
        
        sortedTeams.forEach((t, index) => {
            const gd = t.GF - t.GA;
            const rankClass = index < 3 ? `rank-${index+1}` : '';
            html += `
                <tr class="${rankClass}">
                    <td>${index + 1}</td>
                    <td><strong>${t.name}</strong></td>
                    <td>${t.P}</td>
                    <td>${t.W}</td>
                    <td>${t.D}</td>
                    <td>${t.L}</td>
                    <td>${gd > 0 ? '+'+gd : gd}</td>
                    <td style="font-weight:bold; color:#0056b3;">${t.Pts}</td>
                </tr>
            `;
        });
        html += `</tbody></table></div>`;
        document.getElementById('standings-container').innerHTML = html;
    }

    // --- Tab Logic ---
    function openTab(evt, tabName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) { tabcontent[i].style.display = "none"; }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) { tablinks[i].className = tablinks[i].className.replace(" active", ""); }
        document.getElementById(tabName).style.display = "block";
        if(evt) evt.currentTarget.className += " active";
    }

    // Init
    document.getElementById("defaultOpen").click();
    renderSchedules();
    renderStandings();

</script>

</body>
</html>
